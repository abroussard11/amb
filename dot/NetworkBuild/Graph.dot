Digraph G {
   label = "Distributed Network Build"
   overlap = scale

   subgraph clusterDevNode {
      color = orange
      label = "Dev Node"

      "make"
      "BuildShell-1"
      "BuildShell-2"
      "BuildShell-3"
   }

   subgraph clusterBuildDirector {
      color = green
      label = "Master Node"
      size = "2,2"

      buildDirector [label="Build Director"];
   }

   subgraph clusterBuildNode1 {
      color = blue
      label = "Build Node 1"

      "Build Node Manager:1"
      "Compilation Executor-1:1"
      "Compilation Executor-2:1"
      "Compilation Executor-3:1"
   }

   subgraph clusterBuildNode2 {
      color = blue
      label = "Build Node 2"

      "Build Node Manager:2"
      "Compilation Executor-1:2"
      "Compilation Executor-2:2"
      "Compilation Executor-3:2"
   }

   "make" -> "BuildShell-1" [label=1]
   "make" -> "BuildShell-2" [label=1]
   "make" -> "BuildShell-3" [label=1]
   "BuildShell-1" -> buildDirector [label=2]
   "BuildShell-2" -> buildDirector [label=2]
   "BuildShell-3" -> buildDirector [label=2]
   buildDirector -> "Build Node Manager:1" [label=3]
   buildDirector -> "Build Node Manager:2" [label=3]
   "Build Node Manager:1" -> "Compilation Executor-1:1" [label=4]
   "Build Node Manager:1" -> "Compilation Executor-2:1" [label=4]
   "Build Node Manager:1" -> "Compilation Executor-3:1" [label=4]
   "Build Node Manager:2" -> "Compilation Executor-1:2" [label=4]
   "Build Node Manager:2" -> "Compilation Executor-2:2" [label=4]
   "Build Node Manager:2" -> "Compilation Executor-3:2" [label=4]
   "Compilation Executor-1:1" -> "Build Node Manager:1" [label=5]
   "Compilation Executor-2:1" -> "Build Node Manager:1" [label=5]
   "Compilation Executor-3:1" -> "Build Node Manager:1" [label=5]
   "Compilation Executor-1:2" -> "Build Node Manager:2" [label=5]
   "Compilation Executor-2:2" -> "Build Node Manager:2" [label=5]
   "Compilation Executor-3:2" -> "Build Node Manager:2" [label=5]
   "Build Node Manager:1" -> buildDirector [label=6]
   "Build Node Manager:2" -> buildDirector [label=6]
   buildDirector -> "BuildShell-1" [label=7]
   buildDirector -> "BuildShell-2" [label=7]
   buildDirector -> "BuildShell-3" [label=7]
   "BuildShell-1" -> "make" [label=8]
   "BuildShell-2" -> "make" [label=8]
   "BuildShell-3" -> "make" [label=8]
}
